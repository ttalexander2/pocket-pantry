{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar devsupport_1 = require(\"../../devsupport\");\n\nvar theme_1 = require(\"../../theme\");\n\nvar type_1 = require(\"./type\");\n\nvar INDICATOR_OFFSET = 8;\nvar INDICATOR_WIDTH = 6;\n\nvar PopoverView = function (_react_1$default$Comp) {\n  _inherits(PopoverView, _react_1$default$Comp);\n\n  var _super = _createSuper(PopoverView);\n\n  function PopoverView() {\n    var _this;\n\n    _classCallCheck(this, PopoverView);\n\n    _this = _super.apply(this, arguments);\n\n    _this.getComponentStyle = function (source) {\n      var indicatorWidth = source.indicatorWidth,\n          indicatorHeight = source.indicatorHeight,\n          indicatorBackgroundColor = source.indicatorBackgroundColor,\n          containerParameters = _objectWithoutProperties(source, [\"indicatorWidth\", \"indicatorHeight\", \"indicatorBackgroundColor\"]);\n\n      return {\n        content: containerParameters,\n        indicator: {\n          width: indicatorWidth,\n          height: indicatorHeight,\n          backgroundColor: indicatorBackgroundColor\n        }\n      };\n    };\n\n    _this.getDirectionStyle = function () {\n      var _this$placement$flex = _this.placement.flex(),\n          direction = _this$placement$flex.direction,\n          alignment = _this$placement$flex.alignment;\n\n      var isVertical = direction.startsWith('column');\n      var isStart = alignment.endsWith('start');\n      var isEnd = alignment.endsWith('end');\n      var isReverse = direction.endsWith('reverse');\n      var indicatorRotate = isVertical ? 180 : 90;\n      var indicatorReverseRotate = isReverse ? 0 : 180;\n      var containerTranslate = _this.props.indicator && !isVertical ? INDICATOR_WIDTH / 2 : 0;\n      containerTranslate = isReverse ? containerTranslate : -containerTranslate;\n      var indicatorTranslate = isVertical ? -INDICATOR_OFFSET : INDICATOR_OFFSET;\n      indicatorTranslate = isReverse ? -indicatorTranslate : indicatorTranslate;\n      var i18nVerticalIndicatorTranslate = devsupport_1.RTLService.select(indicatorTranslate, -indicatorTranslate);\n      indicatorTranslate = isVertical ? i18nVerticalIndicatorTranslate : indicatorTranslate;\n      var contentTransforms = {\n        transform: [{\n          translateX: containerTranslate\n        }]\n      };\n      var indicatorTransforms = {\n        transform: [{\n          rotate: indicatorRotate + \"deg\"\n        }, {\n          rotate: indicatorReverseRotate + \"deg\"\n        }, {\n          translateX: isStart ? -indicatorTranslate : 0\n        }, {\n          translateX: isEnd ? indicatorTranslate : 0\n        }]\n      };\n      return {\n        container: {\n          flexDirection: direction,\n          alignItems: alignment\n        },\n        content: contentTransforms,\n        indicator: indicatorTransforms\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(PopoverView, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          eva = _this$props.eva,\n          style = _this$props.style,\n          contentContainerStyle = _this$props.contentContainerStyle,\n          onLayout = _this$props.onLayout,\n          indicator = _this$props.indicator,\n          viewProps = _objectWithoutProperties(_this$props, [\"eva\", \"style\", \"contentContainerStyle\", \"onLayout\", \"indicator\"]);\n\n      var evaStyle = this.getComponentStyle(eva.style);\n      var directionStyle = this.getDirectionStyle();\n      return react_1.default.createElement(react_native_1.View, {\n        style: [directionStyle.container, contentContainerStyle],\n        onLayout: onLayout\n      }, react_1.default.createElement(devsupport_1.FalsyFC, {\n        style: [evaStyle.indicator, directionStyle.indicator],\n        component: indicator\n      }), react_1.default.createElement(react_native_1.View, _extends({}, viewProps, {\n        style: [evaStyle.content, directionStyle.content, style]\n      })));\n    }\n  }, {\n    key: \"placement\",\n    get: function get() {\n      return type_1.PopoverPlacements.parse(this.props.placement);\n    }\n  }]);\n\n  return PopoverView;\n}(react_1.default.Component);\n\nPopoverView = __decorate([theme_1.styled('Popover')], PopoverView);\nexports.PopoverView = PopoverView;","map":{"version":3,"sources":["../../../../../src/components/ui/popover/popoverView.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\nconst theme_1 = require(\"../../theme\");\nconst type_1 = require(\"./type\");\nconst INDICATOR_OFFSET = 8;\nconst INDICATOR_WIDTH = 6;\nlet PopoverView = class PopoverView extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.getComponentStyle = (source) => {\n            const { indicatorWidth, indicatorHeight, indicatorBackgroundColor, ...containerParameters } = source;\n            return {\n                content: containerParameters,\n                indicator: {\n                    width: indicatorWidth,\n                    height: indicatorHeight,\n                    backgroundColor: indicatorBackgroundColor,\n                },\n            };\n        };\n        this.getDirectionStyle = () => {\n            const { direction, alignment } = this.placement.flex();\n            const isVertical = direction.startsWith('column');\n            const isStart = alignment.endsWith('start');\n            const isEnd = alignment.endsWith('end');\n            const isReverse = direction.endsWith('reverse');\n            // Rotate indicator by 90 deg if we have `row` direction (left/right placement)\n            // Rotate it again by 180 if we have `row-reverse` (bottom/right placement)\n            const indicatorRotate = isVertical ? 180 : 90;\n            const indicatorReverseRotate = isReverse ? 0 : 180;\n            // Translate container by half of `indicatorWidth`. Exactly half (because it has a square shape)\n            // Reverse if needed\n            // @ts-ignore: indicatorWidth type is always number\n            let containerTranslate = (this.props.indicator && !isVertical) ? INDICATOR_WIDTH / 2 : 0;\n            containerTranslate = isReverse ? containerTranslate : -containerTranslate;\n            // Translate indicator by passed `indicatorOffset`\n            // Reverse if needed\n            let indicatorTranslate = isVertical ? -INDICATOR_OFFSET : INDICATOR_OFFSET;\n            indicatorTranslate = isReverse ? -indicatorTranslate : indicatorTranslate;\n            const i18nVerticalIndicatorTranslate = devsupport_1.RTLService.select(indicatorTranslate, -indicatorTranslate);\n            indicatorTranslate = isVertical ? i18nVerticalIndicatorTranslate : indicatorTranslate;\n            const contentTransforms = {\n                transform: [\n                    { translateX: containerTranslate },\n                ],\n            };\n            const indicatorTransforms = {\n                transform: [\n                    { rotate: `${indicatorRotate}deg` },\n                    { rotate: `${indicatorReverseRotate}deg` },\n                    // Translate indicator \"to start\" if we have `-start` alignment\n                    // Or translate it \"to end\" if we have `-end` alignment\n                    { translateX: isStart ? -indicatorTranslate : 0 },\n                    { translateX: isEnd ? indicatorTranslate : 0 },\n                ],\n            };\n            return {\n                container: {\n                    flexDirection: direction,\n                    alignItems: alignment,\n                },\n                content: contentTransforms,\n                indicator: indicatorTransforms,\n            };\n        };\n    }\n    get placement() {\n        return type_1.PopoverPlacements.parse(this.props.placement);\n    }\n    render() {\n        const { eva, style, contentContainerStyle, onLayout, indicator, ...viewProps } = this.props;\n        const evaStyle = this.getComponentStyle(eva.style);\n        const directionStyle = this.getDirectionStyle();\n        return (react_1.default.createElement(react_native_1.View, { style: [directionStyle.container, contentContainerStyle], onLayout: onLayout },\n            react_1.default.createElement(devsupport_1.FalsyFC, { style: [evaStyle.indicator, directionStyle.indicator], component: indicator }),\n            react_1.default.createElement(react_native_1.View, Object.assign({}, viewProps, { style: [evaStyle.content, directionStyle.content, style] }))));\n    }\n};\nPopoverView = __decorate([\n    theme_1.styled('Popover')\n], PopoverView);\nexports.PopoverView = PopoverView;\n//# sourceMappingURL=popoverView.component.js.map"]},"metadata":{},"sourceType":"script"}