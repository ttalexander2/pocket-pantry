{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar themeContext_1 = require(\"./themeContext\");\n\nexports.useTheme = function () {\n  return react_1.default.useContext(themeContext_1.ThemeContext);\n};\n\nvar ThemeService = function ThemeService() {\n  _classCallCheck(this, ThemeService);\n};\n\nexports.ThemeService = ThemeService;\n\nThemeService.create = function (theme) {\n  return Object.keys(theme).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, ThemeService.getValue(key, theme, key)));\n  }, {});\n};\n\nThemeService.getValue = function (name, theme, fallback) {\n  if (ThemeService.isReference(name)) {\n    var themeKey = ThemeService.createKeyFromReference(name);\n    return ThemeService.findValue(themeKey, theme) || fallback;\n  }\n\n  return ThemeService.findValue(name, theme) || fallback;\n};\n\nThemeService.findValue = function (name, theme) {\n  var value = theme[name];\n\n  if (ThemeService.isReference(value)) {\n    var themeKey = ThemeService.createKeyFromReference(value);\n    return ThemeService.findValue(themeKey, theme);\n  }\n\n  return value;\n};\n\nThemeService.isReference = function (value) {\n  return (\"\" + value).startsWith('$');\n};\n\nThemeService.createKeyFromReference = function (value) {\n  return (\"\" + value).substring(1);\n};","map":{"version":3,"sources":["../../../../../src/components/theme/theme/theme.service.tsx"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,kBAAA;;AAWa,OAAA,CAAA,QAAA,GAAW,YAAgB;AACtC,SAAO,OAAA,CAAA,OAAA,CAAM,UAAN,CAAiB,cAAA,CAAA,YAAjB,CAAP;AACD,CAFY;;IAOA,Y;;;;AAAb,OAAA,CAAA,YAAA,GAAA,YAAA;;AAKS,YAAA,CAAA,MAAA,GAAS,UAAC,KAAD,EAAgC;AAC9C,SAAO,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,MAAnB,CAA0B,UAAC,GAAD,EAAiB,GAAjB,EAA2C;AAC1E,2CAAY,GAAZ,2BAAkB,GAAlB,EAAwB,YAAY,CAAC,QAAb,CAAsB,GAAtB,EAA2B,KAA3B,EAAkC,GAAlC,CAAxB;AACD,GAFM,EAEJ,EAFI,CAAP;AAGD,CAJM;;AAWA,YAAA,CAAA,QAAA,GAAW,UAAC,IAAD,EACC,KADD,EAEC,QAFD,EAEkD;AAElE,MAAI,YAAY,CAAC,WAAb,CAAyB,IAAzB,CAAJ,EAAoC;AAClC,QAAM,QAAQ,GAAW,YAAY,CAAC,sBAAb,CAAoC,IAApC,CAAzB;AACA,WAAO,YAAY,CAAC,SAAb,CAAuB,QAAvB,EAAiC,KAAjC,KAA2C,QAAlD;AACD;;AAED,SAAO,YAAY,CAAC,SAAb,CAAuB,IAAvB,EAA6B,KAA7B,KAAuC,QAA9C;AACD,CAVM;;AAiBQ,YAAA,CAAA,SAAA,GAAY,UAAC,IAAD,EAAe,KAAf,EAA2D;AACpF,MAAM,KAAK,GAAe,KAAK,CAAC,IAAD,CAA/B;;AAEA,MAAI,YAAY,CAAC,WAAb,CAAyB,KAAzB,CAAJ,EAAqC;AACnC,QAAM,QAAQ,GAAW,YAAY,CAAC,sBAAb,CAAoC,KAApC,CAAzB;AACA,WAAO,YAAY,CAAC,SAAb,CAAuB,QAAvB,EAAiC,KAAjC,CAAP;AACD;;AAED,SAAO,KAAP;AACD,CATc;;AAcA,YAAA,CAAA,WAAA,GAAc,UAAC,KAAD,EAA+B;AAC1D,SAAO,MAAG,KAAH,EAAW,UAAX,CAAsB,GAAtB,CAAP;AACD,CAFc;;AAOA,YAAA,CAAA,sBAAA,GAAyB,UAAC,KAAD,EAA8B;AACpE,SAAO,MAAG,KAAH,EAAW,SAAX,CAAqB,CAArB,CAAP;AACD,CAFc","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst themeContext_1 = require(\"./themeContext\");\n/**\n * Takes an actual theme provided by ApplicationProvider or ThemeProvider and\n * @returns it to a functional component.\n *\n * @overview-example UseThemeSimpleUsage\n */\nexports.useTheme = () => {\n    return react_1.default.useContext(themeContext_1.ThemeContext);\n};\n/**\n * Service for working with Eva themes\n */\nclass ThemeService {\n}\nexports.ThemeService = ThemeService;\n/**\n * @returns compiled theme since Eva theme may contain variables referencing each other.\n */\nThemeService.create = (theme) => {\n    return Object.keys(theme).reduce((acc, key) => {\n        return { ...acc, [key]: ThemeService.getValue(key, theme, key) };\n    }, {});\n};\n/**\n * Finds theme value recursively since eva theme variables can reference each other.\n *\n * @returns ThemeValue if found, fallback param otherwise.\n */\nThemeService.getValue = (name, theme, fallback) => {\n    if (ThemeService.isReference(name)) {\n        const themeKey = ThemeService.createKeyFromReference(name);\n        return ThemeService.findValue(themeKey, theme) || fallback;\n    }\n    return ThemeService.findValue(name, theme) || fallback;\n};\n/**\n * Finds theme value recursively since eva theme variables can reference each other.\n *\n * @returns ThemeValue if found.\n */\nThemeService.findValue = (name, theme) => {\n    const value = theme[name];\n    if (ThemeService.isReference(value)) {\n        const themeKey = ThemeService.createKeyFromReference(value);\n        return ThemeService.findValue(themeKey, theme);\n    }\n    return value;\n};\n/**\n * @returns true if theme value references to another\n */\nThemeService.isReference = (value) => {\n    return `${value}`.startsWith('$');\n};\n/**\n * Transforms reference key to theme key\n */\nThemeService.createKeyFromReference = (value) => {\n    return `${value}`.substring(1);\n};\n//# sourceMappingURL=theme.service.js.map"]},"metadata":{},"sourceType":"script"}