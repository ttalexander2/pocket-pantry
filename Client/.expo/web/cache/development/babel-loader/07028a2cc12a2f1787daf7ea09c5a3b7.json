{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar theme_1 = require(\"../../theme\");\n\nvar divider_component_1 = require(\"../divider/divider.component\");\n\nvar list_component_1 = require(\"../list/list.component\");\n\nvar menu_service_1 = require(\"./menu.service\");\n\nvar Menu = function (_react_1$default$Comp) {\n  _inherits(Menu, _react_1$default$Comp);\n\n  var _super = _createSuper(Menu);\n\n  function Menu() {\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    _this = _super.apply(this, arguments);\n    _this.service = new menu_service_1.MenuService();\n\n    _this.clear = function () {\n      _this.props.onSelect && _this.props.onSelect(null);\n    };\n\n    _this.onItemPress = function (descriptor) {\n      _this.props.onSelect && _this.props.onSelect(descriptor.index);\n    };\n\n    _this.isItemSelected = function (descriptor) {\n      return descriptor.index.equals(_this.props.selectedIndex);\n    };\n\n    _this.cloneItemWithProps = function (element, props) {\n      var nestedElements = react_1.default.Children.map(element.props.children, function (el, index) {\n        var descriptor = _this.service.createDescriptorForNestedElement(el, props.descriptor, index);\n\n        var selected = _this.isItemSelected(descriptor);\n\n        return _this.cloneItemWithProps(el, _objectSpread(_objectSpread({}, props), {}, {\n          selected: selected,\n          descriptor: descriptor\n        }));\n      });\n      return react_1.default.cloneElement(element, _objectSpread(_objectSpread({}, props), element.props), nestedElements);\n    };\n\n    _this.renderItem = function (info) {\n      var descriptor = _this.service.createDescriptorForElement(info.item, info.index);\n\n      var selected = _this.isItemSelected(descriptor);\n\n      return _this.cloneItemWithProps(info.item, {\n        descriptor: descriptor,\n        selected: selected,\n        onPress: _this.onItemPress\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          appearance = _this$props.appearance,\n          listProps = _objectWithoutProperties(_this$props, [\"appearance\"]);\n\n      return react_1.default.createElement(list_component_1.List, _extends({\n        ItemSeparatorComponent: this.shouldRenderDividers && divider_component_1.Divider\n      }, listProps, {\n        data: this.data,\n        renderItem: this.renderItem\n      }));\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return react_1.default.Children.toArray(this.props.children || []);\n    }\n  }, {\n    key: \"shouldRenderDividers\",\n    get: function get() {\n      return this.props.appearance !== 'noDivider';\n    }\n  }]);\n\n  return Menu;\n}(react_1.default.Component);\n\nMenu = __decorate([theme_1.styled('Menu')], Menu);\nexports.Menu = Menu;","map":{"version":3,"sources":["../../../../../src/components/ui/menu/menu.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst theme_1 = require(\"../../theme\");\nconst divider_component_1 = require(\"../divider/divider.component\");\nconst list_component_1 = require(\"../list/list.component\");\nconst menu_service_1 = require(\"./menu.service\");\n/**\n * A versatile menu for navigation.\n * Menu should contain MenuItem or MenuGroup components to provide a useful component.\n *\n * @extends React.Component\n *\n * @property {string} appearance - Appearance of the component.\n * Can be `default` or `noDivider`.\n *\n * @property {ReactElement<MenuItemProps> | ReactElement<MenuItemProps>[]} children -\n * Items to be rendered within menu.\n *\n * @property {IndexPath} selectedIndex - Index of selected item.\n * IndexPath `row: number, section?: number` - position of element in sectioned list.\n * Menu becomes sectioned when MenuGroup is rendered within children.\n * Updating this property is not required if marking items selected is not needed.\n *\n * @property {(IndexPath) => void} onSelect - Called when item is pressed.\n * Called with `row: number` for non-grouped items.\n * Called with `row: number, section: number` for items rendered within group,\n * where row - index of item in group, section - index of group in list.\n *\n * @property {ListProps} ...ListProps - Any props applied to List component,\n * excluding `renderItem` and `data`.\n *\n * @overview-example MenuSimpleUsage\n *\n * @overview-example MenuIndexType\n * Menu works with special index object - IndexPath.\n * For non-grouped items in menu, there is only a `row` property.\n * Otherwise, `row` is an index of option within the group, section - index of group in menu.\n * ```\n * interface IndexPath {\n *   row: number;\n *   section?: number;\n * }\n * ```\n *\n * @overview-example MenuNoMarkers\n * Pressing of menu items can be handled without marking items.\n *\n * @overview-example MenuAccessories\n * Items may contain inner views configured with `accessoryLeft` and `accessoryRight` properties.\n * Within Eva, item accessories are expected to be images or [svg icons](guides/icon-packages).\n *\n * @overview-example MenuGroups\n * And be grouped within `MenuGroup` component.\n *\n * @overview-example MenuDisabledOptions\n * Also, it may be disabled with `disabled` property.\n *\n * @overview-example MenuStyling\n * Menu and it's inner views can be styled by passing them as function components.\n * ```\n * import { MenuItem, Text } from '@ui-kitten/components';\n *\n * <MenuItem\n *   title={evaProps => <Text {...evaProps}>USERS</Text>}>\n * </MenuItem>\n * ```\n *\n * @overview-example MenuTheming\n * In most cases this is redundant, if [custom theme is configured](guides/branding).\n *\n */\nlet Menu = class Menu extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.service = new menu_service_1.MenuService();\n        this.clear = () => {\n            this.props.onSelect && this.props.onSelect(null);\n        };\n        this.onItemPress = (descriptor) => {\n            this.props.onSelect && this.props.onSelect(descriptor.index);\n        };\n        this.isItemSelected = (descriptor) => {\n            return descriptor.index.equals(this.props.selectedIndex);\n        };\n        this.cloneItemWithProps = (element, props) => {\n            const nestedElements = react_1.default.Children.map(element.props.children, (el, index) => {\n                const descriptor = this.service.createDescriptorForNestedElement(el, props.descriptor, index);\n                const selected = this.isItemSelected(descriptor);\n                return this.cloneItemWithProps(el, { ...props, selected, descriptor });\n            });\n            return react_1.default.cloneElement(element, { ...props, ...element.props }, nestedElements);\n        };\n        this.renderItem = (info) => {\n            const descriptor = this.service.createDescriptorForElement(info.item, info.index);\n            const selected = this.isItemSelected(descriptor);\n            return this.cloneItemWithProps(info.item, { descriptor, selected, onPress: this.onItemPress });\n        };\n    }\n    get data() {\n        return react_1.default.Children.toArray(this.props.children || []);\n    }\n    get shouldRenderDividers() {\n        return this.props.appearance !== 'noDivider';\n    }\n    render() {\n        const { appearance, ...listProps } = this.props;\n        return (react_1.default.createElement(list_component_1.List, Object.assign({ ItemSeparatorComponent: this.shouldRenderDividers && divider_component_1.Divider }, listProps, { data: this.data, renderItem: this.renderItem })));\n    }\n};\nMenu = __decorate([\n    theme_1.styled('Menu')\n], Menu);\nexports.Menu = Menu;\n//# sourceMappingURL=menu.component.js.map"]},"metadata":{},"sourceType":"script"}