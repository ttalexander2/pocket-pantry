{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar devsupport_1 = require(\"../../devsupport\");\n\nvar ViewPager = function (_react_1$default$Comp) {\n  _inherits(ViewPager, _react_1$default$Comp);\n\n  var _super = _createSuper(ViewPager);\n\n  function ViewPager() {\n    var _this;\n\n    _classCallCheck(this, ViewPager);\n\n    _this = _super.apply(this, arguments);\n    _this.containerRef = react_1.default.createRef();\n    _this.contentWidth = 0;\n    _this.contentOffsetValue = 0;\n    _this.contentOffset = new react_native_1.Animated.Value(_this.contentOffsetValue);\n    _this.panResponder = react_native_1.PanResponder.create(_assertThisInitialized(_this));\n\n    _this.onMoveShouldSetPanResponder = function (event, state) {\n      var isHorizontalMove = Math.abs(state.dx) > 0 && Math.abs(state.dx) > Math.abs(state.dy);\n\n      if (isHorizontalMove) {\n        var i18nOffset = devsupport_1.RTLService.select(state.dx, -state.dx);\n        var nextSelectedIndex = _this.props.selectedIndex - Math.sign(i18nOffset);\n        return nextSelectedIndex >= 0 && nextSelectedIndex < _this.getChildCount();\n      }\n\n      return false;\n    };\n\n    _this.onPanResponderMove = function (event, state) {\n      var i18nOffset = devsupport_1.RTLService.select(_this.contentWidth, -_this.contentWidth);\n      var selectedPageOffset = _this.props.selectedIndex * i18nOffset;\n\n      _this.contentOffset.setValue(state.dx - selectedPageOffset);\n    };\n\n    _this.onPanResponderRelease = function (event, state) {\n      if (Math.abs(state.vx) >= 0.5 || Math.abs(state.dx) >= 0.5 * _this.contentWidth) {\n        var i18nOffset = devsupport_1.RTLService.select(state.dx, -state.dx);\n        var index = i18nOffset > 0 ? _this.props.selectedIndex - 1 : _this.props.selectedIndex + 1;\n\n        _this.scrollToIndex({\n          index: index,\n          animated: true\n        });\n      } else {\n        var _index = _this.props.selectedIndex;\n\n        _this.scrollToIndex({\n          index: _index,\n          animated: true\n        });\n      }\n    };\n\n    _this.scrollToOffset = function (params) {\n      _this.createOffsetAnimation(params).start(_this.onContentOffsetAnimationStateEnd);\n    };\n\n    _this.onLayout = function (event) {\n      _this.contentWidth = event.nativeEvent.layout.width / _this.getChildCount();\n\n      _this.scrollToIndex({\n        index: _this.props.selectedIndex\n      });\n    };\n\n    _this.onContentOffsetAnimationStateChanged = function (state) {\n      _this.contentOffsetValue = devsupport_1.RTLService.select(-state.value, state.value);\n\n      if (_this.props.onOffsetChange) {\n        _this.props.onOffsetChange(_this.contentOffsetValue);\n      }\n    };\n\n    _this.onContentOffsetAnimationStateEnd = function (result) {\n      var selectedIndex = _this.contentOffsetValue / _this.contentWidth;\n\n      if (selectedIndex !== _this.props.selectedIndex && _this.props.onSelect) {\n        _this.props.onSelect(Math.round(selectedIndex));\n      }\n    };\n\n    _this.createOffsetAnimation = function (params) {\n      var animationDuration = params.animated ? 300 : 0;\n      return react_native_1.Animated.timing(_this.contentOffset, {\n        toValue: devsupport_1.RTLService.select(-params.offset, params.offset),\n        easing: react_native_1.Easing.linear,\n        duration: animationDuration,\n        useNativeDriver: react_native_1.Platform.OS !== 'web'\n      });\n    };\n\n    _this.renderComponentChild = function (source, index) {\n      var contentView = _this.props.shouldLoadComponent(index) ? source : null;\n      return react_1.default.createElement(react_native_1.View, {\n        style: styles.contentContainer\n      }, contentView);\n    };\n\n    _this.renderComponentChildren = function (source) {\n      return react_1.default.Children.map(source, _this.renderComponentChild);\n    };\n\n    _this.getChildCount = function () {\n      return react_1.default.Children.count(_this.props.children);\n    };\n\n    _this.getContainerStyle = function () {\n      return {\n        width: 100 * _this.getChildCount() + \"%\",\n        transform: [{\n          translateX: _this.contentOffset\n        }]\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(ViewPager, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.contentOffset.addListener(this.onContentOffsetAnimationStateChanged);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.selectedIndex !== this.props.selectedIndex) {\n        var index = this.props.selectedIndex;\n        this.scrollToIndex({\n          index: index,\n          animated: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.contentOffset.removeAllListeners();\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(params) {\n      var index = params.index,\n          rest = _objectWithoutProperties(params, [\"index\"]);\n\n      var childCount = this.getChildCount() - 1;\n      var offset = this.contentWidth * (index < 0 ? 0 : index > childCount ? childCount : index);\n      this.scrollToOffset(_objectSpread({\n        offset: offset\n      }, rest));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          children = _this$props.children,\n          viewProps = _objectWithoutProperties(_this$props, [\"style\", \"children\"]);\n\n      return react_1.default.createElement(react_native_1.Animated.View, _extends({}, viewProps, {\n        style: [styles.container, style, this.getContainerStyle()],\n        onLayout: this.onLayout\n      }, this.panResponder.panHandlers, {\n        ref: this.containerRef\n      }), this.renderComponentChildren(children));\n    }\n  }]);\n\n  return ViewPager;\n}(react_1.default.Component);\n\nexports.ViewPager = ViewPager;\nViewPager.defaultProps = {\n  selectedIndex: 0,\n  shouldLoadComponent: function shouldLoadComponent() {\n    return true;\n  }\n};\nvar styles = react_native_1.StyleSheet.create({\n  container: {\n    flexDirection: 'row'\n  },\n  contentContainer: {\n    flex: 1,\n    width: '100%'\n  }\n});","map":{"version":3,"sources":["../../../../../src/components/ui/viewPager/viewPager.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst devsupport_1 = require(\"../../devsupport\");\n/**\n * A view with a set of swipeable pages.\n *\n * @extends React.Component\n **\n * @property {ReactNode} children - Page components to render within the view.\n *\n * @property {number} selectedIndex - Index of currently selected view.\n *\n * @property {(number) => void} onSelect - Called when view becomes visible.\n *\n * @property {(number) => boolean} shouldLoadComponent - A function to determine\n * whether particular view should be rendered.\n * Useful when providing \"lazy\" loading behavior.\n *\n * @property {(number) => void} onOffsetChange - Called when scroll offset changes.\n *\n * @property {ViewProps} ...ViewProps - Any props applied to View component.\n *\n * @overview-example ViewPagerSimpleUsage\n * Simple usage.\n *\n * @overview-example ViewPagerLazyLoading\n * Each view can be loaded lazily by using `shouldLoadComponent` property.\n */\nclass ViewPager extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.containerRef = react_1.default.createRef();\n        this.contentWidth = 0;\n        this.contentOffsetValue = 0;\n        this.contentOffset = new react_native_1.Animated.Value(this.contentOffsetValue);\n        this.panResponder = react_native_1.PanResponder.create(this);\n        this.onMoveShouldSetPanResponder = (event, state) => {\n            const isHorizontalMove = Math.abs(state.dx) > 0 && Math.abs(state.dx) > Math.abs(state.dy);\n            if (isHorizontalMove) {\n                const i18nOffset = devsupport_1.RTLService.select(state.dx, -state.dx);\n                const nextSelectedIndex = this.props.selectedIndex - Math.sign(i18nOffset);\n                return nextSelectedIndex >= 0 && nextSelectedIndex < this.getChildCount();\n            }\n            return false;\n        };\n        this.onPanResponderMove = (event, state) => {\n            const i18nOffset = devsupport_1.RTLService.select(this.contentWidth, -this.contentWidth);\n            const selectedPageOffset = this.props.selectedIndex * i18nOffset;\n            this.contentOffset.setValue(state.dx - selectedPageOffset);\n        };\n        this.onPanResponderRelease = (event, state) => {\n            if (Math.abs(state.vx) >= 0.5 || Math.abs(state.dx) >= 0.5 * this.contentWidth) {\n                const i18nOffset = devsupport_1.RTLService.select(state.dx, -state.dx);\n                const index = i18nOffset > 0 ? this.props.selectedIndex - 1 : this.props.selectedIndex + 1;\n                this.scrollToIndex({ index, animated: true });\n            }\n            else {\n                const index = this.props.selectedIndex;\n                this.scrollToIndex({ index, animated: true });\n            }\n        };\n        this.scrollToOffset = (params) => {\n            this.createOffsetAnimation(params).start(this.onContentOffsetAnimationStateEnd);\n        };\n        this.onLayout = (event) => {\n            this.contentWidth = event.nativeEvent.layout.width / this.getChildCount();\n            this.scrollToIndex({ index: this.props.selectedIndex });\n        };\n        this.onContentOffsetAnimationStateChanged = (state) => {\n            this.contentOffsetValue = devsupport_1.RTLService.select(-state.value, state.value);\n            if (this.props.onOffsetChange) {\n                this.props.onOffsetChange(this.contentOffsetValue);\n            }\n        };\n        this.onContentOffsetAnimationStateEnd = (result) => {\n            const selectedIndex = this.contentOffsetValue / this.contentWidth;\n            if (selectedIndex !== this.props.selectedIndex && this.props.onSelect) {\n                this.props.onSelect(Math.round(selectedIndex));\n            }\n        };\n        this.createOffsetAnimation = (params) => {\n            const animationDuration = params.animated ? 300 : 0;\n            return react_native_1.Animated.timing(this.contentOffset, {\n                toValue: devsupport_1.RTLService.select(-params.offset, params.offset),\n                easing: react_native_1.Easing.linear,\n                duration: animationDuration,\n                useNativeDriver: react_native_1.Platform.OS !== 'web',\n            });\n        };\n        this.renderComponentChild = (source, index) => {\n            const contentView = this.props.shouldLoadComponent(index) ? source : null;\n            return (react_1.default.createElement(react_native_1.View, { style: styles.contentContainer }, contentView));\n        };\n        this.renderComponentChildren = (source) => {\n            return react_1.default.Children.map(source, this.renderComponentChild);\n        };\n        this.getChildCount = () => {\n            return react_1.default.Children.count(this.props.children);\n        };\n        this.getContainerStyle = () => {\n            return {\n                width: `${100 * this.getChildCount()}%`,\n                // @ts-ignore: RN has no types for `Animated` styles\n                transform: [{ translateX: this.contentOffset }],\n            };\n        };\n    }\n    componentDidMount() {\n        this.contentOffset.addListener(this.onContentOffsetAnimationStateChanged);\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.selectedIndex !== this.props.selectedIndex) {\n            const index = this.props.selectedIndex;\n            this.scrollToIndex({ index, animated: true });\n        }\n    }\n    componentWillUnmount() {\n        this.contentOffset.removeAllListeners();\n    }\n    scrollToIndex(params) {\n        const { index, ...rest } = params;\n        const childCount = this.getChildCount() - 1;\n        const offset = this.contentWidth * (index < 0 ? 0 : index > childCount ? childCount : index);\n        this.scrollToOffset({ offset, ...rest });\n    }\n    render() {\n        const { style, children, ...viewProps } = this.props;\n        return (react_1.default.createElement(react_native_1.Animated.View, Object.assign({}, viewProps, { style: [styles.container, style, this.getContainerStyle()], onLayout: this.onLayout }, this.panResponder.panHandlers, { \n            // @ts-ignore\n            ref: this.containerRef }), this.renderComponentChildren(children)));\n    }\n}\nexports.ViewPager = ViewPager;\nViewPager.defaultProps = {\n    selectedIndex: 0,\n    shouldLoadComponent: () => true,\n};\nconst styles = react_native_1.StyleSheet.create({\n    container: {\n        flexDirection: 'row',\n    },\n    contentContainer: {\n        flex: 1,\n        width: '100%',\n    },\n});\n//# sourceMappingURL=viewPager.component.js.map"]},"metadata":{},"sourceType":"script"}